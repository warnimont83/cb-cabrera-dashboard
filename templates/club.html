{% extends "base.html" %}

{% block content %}
<div class="header">
    <a href="/" class="back-link">&larr; Back to clubs</a>
    <div class="header-with-logo">
        {% if club.club_id %}
        <img src="/static/images/clubs/{{ club.club_id }}.jpg"
             alt="{{ club_name }}"
             class="club-logo-large"
             onerror="this.style.display='none'">
        {% endif %}
        <div>
            <h1>{{ club_name.replace('_', ' ') }}</h1>
            <p>View categories and teams</p>
        </div>
    </div>
</div>

<div class="stats-summary">
    <div class="stat-card">
        <h3>{{ club.categories|length }}</h3>
        <p>Categories</p>
    </div>
    <div class="stat-card">
        <h3>{{ total_teams }}</h3>
        <p>Teams</p>
    </div>
    <div class="stat-card">
        <h3>{{ total_matches }}</h3>
        <p>Total Matches</p>
    </div>
</div>

<div class="categories-grid-large">
    {% for category_name, category_data in club.categories.items() %}
    {% if category_data.teams %}
    <div class="category-card-large">
        <div class="category-header">
            <h2>{{ category_name }}</h2>
            <span class="category-badge">{{ category_data.teams|length }} team(s)</span>
        </div>

        <div class="teams-grid">
            {% for team in category_data.teams %}
            <a href="/team/{{ team.path }}" class="team-card">
                <div class="team-header">
                    <h3>{{ team.name.split('_', 1)[1] if '_' in team.name else team.name }}</h3>
                </div>
                <div class="team-info">
                    <p><strong>Matches:</strong> {{ team.match_count }}</p>
                    <p><strong>ID:</strong> {{ team.name.split('_')[0] if '_' in team.name else 'N/A' }}</p>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    {% endfor %}
</div>
{% endblock %}
